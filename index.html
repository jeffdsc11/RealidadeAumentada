<!DOCTYPE html>
<html>
<head>
<title>AR.js A-Frame Location-based AR</title>
<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.7.7/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
<a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;" vr-mode-ui="enabled: false">
    <a-camera gps-new-camera rotation-reader></a-camera>
    <a-box position="0 0 0" material="color: blue;" scale="1 1 1" gps-new-entity-place="latitude: 0; longitude: 0;"></a-box>
</a-scene>

<script>
document.addEventListener('DOMContentLoaded', function () {
    if ("geolocation" in navigator) {
        navigator.geolocation.getCurrentPosition(function (position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;

            // Set the initial position of the cube
            const box = document.querySelector('a-box');
            box.setAttribute('gps-new-entity-place', `latitude: ${latitude}; longitude: ${longitude}`);
        }, function (error) {
            console.error("Erro ao obter localização:", error);
        });
    } else {
        console.log("Geolocalização não é suportada neste navegador.");
    }
});
</script>
</body>
</html>
